# 아키텍처

이 문서는 본 프로젝트의 전체 시스템 아키텍처를 설명합니다.  
주요 구성 요소, 책임 분리 원칙, 데이터 흐름, 그리고 설계 의도를 명확히 하여  
개발자와 AI 모두가 **동일한 구조적 이해를 공유**하도록 하는 것을 목표로 합니다.

## 아키텍처 목표

본 아키텍처는 다음 목표를 중심으로 설계되었습니다.

- 각 책임 영역의 명확한 분리
- 변경에 강한 구조
- 테스트 및 확장이 용이한 설계
- 인간과 AI가 함께 이해하고 활용할 수 있는 구조적 명확성

아키텍처는 단기적인 구현 편의보다  
**장기적인 유지보수성과 진화 가능성**을 우선합니다.

---

## 전체 구조 개요

본 프로젝트는 **컴포넌트 기반 + 계층형 구조**를 따릅니다.

- 컴포넌트 기반: UI 및 기능 단위를 재사용 가능한 컴포넌트로 구성
- 계층형 구조: 책임에 따라 코드와 역할을 명확히 분리

상위 수준에서 시스템은 다음과 같은 주요 영역으로 나뉩니다.

- UI / View Layer
- State Management Layer
- Domain / Business Logic Layer
- API Interaction Layer
- Infrastructure / Configuration Layer

각 계층은 단방향 의존성을 가지며,  
하위 계층은 상위 계층의 내부 구현을 알지 못하도록 설계됩니다.

---

## UI / View Layer

### 역할
- 사용자와의 직접적인 상호작용 담당
- 화면 렌더링 및 사용자 입력 처리

### 특징
- 상태를 직접 관리하지 않음
- 비즈니스 로직을 포함하지 않음
- 필요한 데이터는 상위 계층을 통해 주입받음

### 구성 요소
- pages/
- components/
- layouts/

UI 계층은 가능한 한 **순수하게 유지**되어야 하며,  
로직보다는 표현에 집중합니다.

---

## State Management Layer

### 역할
- 애플리케이션 전역 상태 관리
- 사용자 인증, 권한, 세션, 컨텍스트 유지

### 특징
- 상태 변경은 명시적인 액션을 통해서만 수행
- UI와 비즈니스 로직 사이의 중재자 역할

### 구성 요소
- stores/
- 상태 관련 플러그인 및 설정

이 계층은 **애플리케이션의 중심 축**으로,  
잘못 설계될 경우 전체 복잡도가 급격히 증가할 수 있습니다.

---

## Domain / Business Logic Layer

### 역할
- 핵심 비즈니스 규칙과 정책을 정의
- UI나 API 세부 사항에 독립적인 로직 유지

### 특징
- 프레임워크 의존성 최소화
- 테스트 가능성을 최우선으로 고려

### 구성 요소
- composables/
- domain 관련 유틸리티

이 계층은 “무엇을 해야 하는가”에 집중하며  
“어떻게 보여줄 것인가”와는 분리됩니다.

---

## API Interaction Layer

### 역할
- 외부 시스템 및 백엔드 API와의 통신
- 요청/응답 처리 및 에러 표준화

### 특징
- API 계약(api-contracts.md)에 기반하여 동작
- 인증 토큰, 헤더, 에러 처리 로직을 중앙화

### 구성 요소
- API 클라이언트
- fetch / query 래퍼
- 인터셉터

이 계층은 시스템의 **경계(boundary)** 역할을 하며,  
외부 변경이 내부로 전파되지 않도록 완충 역할을 수행합니다.

---

## Infrastructure / Configuration Layer

### 역할
- 환경 설정
- 빌드 및 배포 관련 설정
- 프레임워크 및 도구 초기화

### 구성 요소
- 환경 변수 설정
- 빌드 설정 파일
- 플러그인 초기화 코드

이 계층은 다른 모든 계층을 **지탱하는 기반**이지만,  
직접적인 비즈니스 로직은 포함하지 않습니다.

---

## 의존성 규칙

본 프로젝트는 다음 의존성 규칙을 따릅니다.

- UI → State → Domain → API → Infrastructure
- 역방향 의존성 금지
- 순환 의존성 금지

이 규칙을 위반할 경우:
- 테스트 어려움 증가
- 변경 영향 범위 확대
- AI 기반 자동화 시 일관성 붕괴

---

## 아키텍처 변경 원칙

아키텍처 변경은 다음 기준을 충족해야 합니다.

- 변경 사유가 문서로 명시될 것
- 기존 구조와의 차이가 설명될 것
- 장기적인 영향이 검토될 것

모든 구조 변경은  
**“왜 이 구조가 필요한가”**에 대한 답을 포함해야 합니다.

---

## 문서 연계

본 문서는 다음 문서들과 함께 참조되어야 합니다.

- data-models.md
- api-contracts.md
- source-tree-analysis.md

아키텍처 문서는 프로젝트의 **기준점(anchor)** 이며,  
다른 모든 문서는 이 구조를 전제로 작성됩니다.
