## 1. 개요

TCP/IP 모델은 **실제 인터넷 통신을 구현하기 위해 사용되는 실무 중심 네트워크 모델**이다.  
OSI 7계층이 개념적 참조 모델이라면, TCP/IP는 운영체제와 네트워크 스택에 실제로 구현된 구조에 가깝다.

현대 네트워크, 특히 서버·클라우드·인터넷 환경에서 발생하는 대부분의 문제는  
결국 TCP/IP 모델 기준으로 분석되고 해결된다.

---

## 2. TCP/IP 계층 구조 개요

TCP/IP 모델은 총 4계층으로 구성된다.

|TCP/IP 계층|OSI 대응 계층|
|---|---|
|Application|L7 ~ L5|
|Transport|L4|
|Internet|L3|
|Network Interface|L2 ~ L1|

OSI 모델의 세분화된 개념을 **실제 동작 단위로 압축**한 구조라고 볼 수 있다.

---

## 3. 계층별 동작 논리

### 3.1 Network Interface 계층

물리적 네트워크 매체를 통해 데이터 프레임을 송수신하는 계층이다.  
OSI의 물리 계층(L1)과 데이터 링크 계층(L2)을 포함한다.

- **PDU**: Frame / Bit
    
- **주요 기술**: Ethernet, ARP, MAC
    
- **동작 논리**:  
    "같은 네트워크에서 상대 장비의 MAC 주소를 알고 실제 신호를 전달할 수 있는가?"
    

이 계층에서 문제가 발생하면 IP 이전 단계에서 통신이 끊기며,  
상위 계층에서는 **아무 로그도 남지 않는 경우**가 많다.

---

### 3.2 Internet 계층

서로 다른 네트워크 간 패킷 전달을 담당한다.  
논리적 주소(IP)를 기반으로 라우팅이 수행된다.

- **PDU**: Packet
    
- **주요 프로토콜**: IP, ICMP
    
- **동작 논리**:  
    "이 패킷을 어떤 경로로 목적지 네트워크까지 보낼 것인가?"
    

`ping` 테스트는 이 계층의 정상 여부를 확인하는 대표적인 방법이다.  
다만, **Internet 계층이 정상이라고 상위 계층이 정상이라는 의미는 아니다.**

---

### 3.3 Transport 계층

호스트 내부에서 실행 중인 프로세스 단위 통신을 담당한다.  
신뢰성, 순서 보장, 흐름 제어 여부가 이 계층에서 결정된다.

- **PDU**: Segment (TCP) / Datagram (UDP)
    
- **주요 프로토콜**: TCP, UDP
    
- **동작 논리**:  
    "이 데이터는 어떤 애플리케이션으로 전달되어야 하며, 신뢰성이 필요한가?"
    
- TCP: 연결 지향, 신뢰성 보장
    
- UDP: 비연결, 속도 우선
    

대부분의 실무 장애는 이 계층과 Application 계층의 경계에서 발생한다.

---

### 3.4 Application 계층

사용자와 직접 상호작용하는 계층이다.  
OSI 모델의 L5~L7이 모두 포함된다.

- **PDU**: Data
    
- **주요 프로토콜**: HTTP, HTTPS, SSH, FTP, DNS, SMTP
    
- **동작 논리**:  
    "사용자는 무엇을 요청했고, 서버는 어떤 응답을 돌려주는가?"
    

TLS, 인증, 인코딩, API 규약 등 **체감되는 대부분의 오류는 이 계층에서 드러난다.**

---

## 4. TCP/IP 기준 실무 트러블슈팅 정리

실무에서는 OSI 모델보다 **TCP/IP 기준으로 사고하는 편이 빠르다.**  
특히 서버 운영과 클라우드 환경에서는 TCP/IP 계층 단위로 문제를 압축해 판단한다.

---

### 4.1 Ping은 되는데 서비스 접속이 안 되는 경우

- **상황**
    
    - `ping` 성공
        
    - `ssh`, `curl`, `telnet` 실패
        
- **의미**
    
    - Network Interface, Internet 계층 정상
        
    - Transport 또는 Application 계층 문제
        
- **점검**
    
    - 포트 오픈 여부
        
    - 서비스 프로세스 기동 상태
        
    - 방화벽 정책
        

---

### 4.2 TCP 3-Way Handshake 실패 유형

TCP 연결 실패는 증상에 따라 원인이 다르다.

- **SYN 전송 후 응답 없음**
    
    - 중간 네트워크 차단
        
    - 방화벽 DROP
        
    - NAT 또는 라우팅 문제
        
- **RST 응답**
    
    - 대상 서버 도달은 성공
        
    - 해당 포트에서 서비스 미기동
        
    - Reject 정책 적용
        

이 구분만으로도 문제 범위는 절반 이상 줄어든다.

---

### 4.3 대용량 트래픽에서의 지연 및 끊김

- **원인**
    
    - TCP 윈도우 크기 문제
        
    - 세션 타임아웃 불일치
        
    - 로드밸런서 Idle Timeout
        
- **특징**
    
    - 소량 트래픽에서는 정상
        
    - 특정 시점 이후만 장애 발생
        

Transport 계층 설정 불일치가 가장 흔한 원인이다.

---

### 4.4 DNS 관련 장애는 TCP/IP 어디인가?

DNS는 Application 계층 프로토콜이다.  
하지만 증상은 종종 네트워크 장애처럼 보인다.

- IP 직접 접속 가능
    
- 도메인 접속 불가
    

이 경우 TCP/IP 관점에서는 **Application 계층 단독 문제**로 분류한다.

---

## 5. 클라우드 환경에서 TCP/IP 모델 해석

클라우드에서는 TCP/IP 계층 위에 다음 요소들이 추가된다.

- 보안 그룹
    
- 네트워크 ACL
    
- NAT Gateway
    
- 로드밸런서
    

이로 인해 **Transport 계층 문제처럼 보이는 장애가  
실제 원인은 Internet 계층 또는 인프라 정책인 경우가 많다.**

실무에서는 항상 다음 순서로 확인하였다.

1. 외부 IP 기준 접근 가능 여부
    
2. NAT 이후 내부 IP 기준 정책
    
3. 포트 및 세션 상태
    

---

## 6. TCP/IP 계층별 점검 요약

|계층|주요 확인 대상|
|---|---|
|Application|HTTP 응답, 인증, TLS, API 규약|
|Transport|포트, TCP 상태, 세션 타임아웃|
|Internet|IP, 라우팅, ICMP|
|Network Interface|MAC, ARP, 인터페이스 상태|